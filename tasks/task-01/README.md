# Task 1: 图像基本操作

## 任务描述

完成一系列图像基本操作，包括读取、显示、保存、缩放、翻转等。

## 任务要求

### 1. 读取图像（10分）
- 读取一张彩色图片
- 检查图像是否成功读取
- 打印图像的尺寸和通道数

### 2. 转换为灰度图（20分）
- 将彩色图像转换为灰度图
- 对比原图和灰度图的差异
- 保存灰度图

### 3. 图像缩放（30分）
- 将原图缩小50%
- 将原图放大2倍
- 保持宽高比缩放到宽度800像素

### 4. 图像翻转（20分）
- 对图像进行水平翻转（镜像效果）
- 对图像进行垂直翻转
- 对图像同时进行水平和垂直翻转

### 5. 图像裁剪（20分）
- 裁剪图像的中心区域（原图尺寸的1/4）
- 保存裁剪后的图像

## 提交要求

1. **代码文件**: `task1_solution.py`
2. **运行截图**: 包含所有操作的显示结果
3. **保存的图像**:
   - `gray.jpg`
   - `resized_small.jpg`
   - `resized_large.jpg`
   - `flipped_horizontal.jpg`
   - `cropped.jpg`

## 评分标准

| 要求 | 分值 | 评分细则 |
|-----|------|---------|
| 读取图像 | 10分 | 成功读取5分，正确打印属性5分 |
| 灰度转换 | 20分 | 转换正确10分，保存成功10分 |
| 图像缩放 | 30分 | 每种缩放10分 |
| 图像翻转 | 20分 | 每种翻转10分 |
| 图像裁剪 | 20分 | 正确裁剪10分，保存成功10分 |

## 提示

### 读取图像
```python
import cv2

img = cv2.imread('path/to/image.jpg')

# 检查是否成功
if img is None:
    print("读取失败！")
else:
    print(f"尺寸: {img.shape}")
```

### 转灰度
```python
gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
```

### 缩放
```python
# 缩小50%
small = cv2.resize(img, None, fx=0.5, fy=0.5)

# 放大2倍
large = cv2.resize(img, None, fx=2.0, fy=2.0)
```

### 翻转
```python
# 水平翻转
h_flip = cv2.flip(img, 1)

# 垂直翻转
v_flip = cv2.flip(img, 0)
```

### 裁剪
```python
h, w = img.shape[:2]
# 裁剪中心区域
crop = img[h//4:h*3//4, w//4:w*3//4]
```

### 保存
```python
cv2.imwrite('output.jpg', img)
```

## 扩展挑战（可选，额外加分）

1. 创建一个函数，可以指定任意缩放比例
2. 实现图像旋转90度、180度、270度
3. 同时显示所有操作结果，使用subplot排列

## 常见问题

**Q: 图像读取失败怎么办？**
A: 检查文件路径是否正确，路径中不要包含中文字符

**Q: 缩放后图像失真？**
A: 尝试不同的插值方法，如`cv2.INTER_CUBIC`（放大）或`cv2.INTER_AREA`（缩小）

**Q: 裁剪坐标超出范围？**
A: 确保索引在有效范围内：`img[y1:y2, x1:x2]`，其中y2 < height, x2 < width
